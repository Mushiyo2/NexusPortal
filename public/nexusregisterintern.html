<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flat Login Form</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<style>
    /* Main Colors */
:root {
  --accent: #33b5e5;
  --white: #ffffff;
  --black: #000000;
  --dark-gray: #333333;
  --gray: #666666;
  --light-gray: #999999;
  --lighter-gray: #cccccc;
  --module-width: 320px;
}

body {
    background-image: url('loading_p_bg.54a70f.jpg');
    background-position: center top; /* Centers the image horizontally and aligns it to the top */
    background-repeat: no-repeat;
    background-size: cover; /* Ensures the image scales to cover the viewport */
    background-attachment: fixed; /* Keeps the image fixed during scrolling */
    color: var(--gray);
    font-family: 'RobotoDraft', 'Roboto', sans-serif;
    font-size: 14px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}


/* Pen Title */
.pen-title {
  padding: 50px 0;
  text-align: center;
  font-family: 'Source Han Sans', sans-serif;
    font-size: 3.375rem;
    line-height: 3rem;
color: #ffffff;
}

.pen-title h1 {
  margin: 0 0 20px;
  font-size: 48px;
  font-weight: 300;
}

.pen-title span {
  font-size: 12px;
}

.pen-title span .fa {
  color: var(--accent);
}

.pen-title span a {
  color: var(--accent);
  font-weight: 600;
  text-decoration: none;
}

/* Form Module */
.form-module {
  position: relative;
  background: var(--white);
  max-width: var(--module-width);
  width: 100%;
  border-top: 5px solid var(--accent);
  box-shadow: 0 0 3px rgba(0, 0, 0, 0.1);
  margin: 0 auto;
}

.form-module .toggle {
  cursor: pointer;
  position: absolute;
  top: 0;
  right: 0;
  background: var(--accent);
  width: 30px;
  height: 30px;
  margin: -5px 0 0;
  color: var(--white);
  font-size: 12px;
  line-height: 30px;
  text-align: center;
}

.form-module .toggle .tooltip {
  position: absolute;
  top: 5px;
  right: -65px;
  display: block;
  background: rgba(0, 0, 0, 0.6);
  width: auto;
  padding: 5px;
  font-size: 10px;
  line-height: 1;
  text-transform: uppercase;
}

.form-module .toggle .tooltip::before {
  content: '';
  position: absolute;
  top: 5px;
  left: -5px;
  display: block;
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-right: 5px solid rgba(0, 0, 0, 0.6);
}

.form-module .form {
  display: none;
  padding: 40px;
}

.form-module .form:nth-child(2) {
  display: block;
}

.form-module h2 {
  margin: 0 0 20px;
  color: var(--accent);
  font-size: 18px;
  font-weight: 400;
  line-height: 1;
}

.form-module input {
  outline: none;
  display: block;
  width: 100%;
  border: 1px solid #e6e6e6;
  margin: 0 0 20px;
  padding: 10px 15px;
  box-sizing: border-box;
  font-weight: 400;
  transition: all 0.3s ease;
}

.form-module input:focus {
  border: 1px solid var(--accent);
  color: var(--dark-gray);
}

.form-module button {
  cursor: pointer;
  background: var(--accent);
  width: 100%;
  border: 0;
  padding: 10px 15px;
  color: var(--white);
  transition: all 0.3s ease;
}

.form-module button:hover {
  background: #0099cc; /* 15% darker accent */
}

.form-module .cta {
  background: #f2f2f2;
  width: 100%;
  padding: 15px 40px;
  box-sizing: border-box;
  color: var(--gray);
  font-size: 12px;
  text-align: center;
}

.form-module .cta a {
  color: var(--dark-gray);
  text-decoration: none;
}
.forced-vertical-text {
    font-size: 50px;
    font-weight: bold;
    color: transparent;
    text-transform: uppercase;
    text-orientation: upright;
    display: inline-block;
    pointer-events: none;
    position: fixed;
    top: 59%;
    writing-mode: vertical-lr;
    left: 550px;
    transform: translateY(-50%);
    z-index: -1;
    -webkit-text-stroke: 2px #6366f1;
    opacity: 1; /* Ensure it's visible initially */
    visibility: visible; /* Keep the element interactable */
    transition: opacity 1.5s ease, visibility 0s 0.5s; /* Transition opacity and visibility after the fade */
}
.forced-vertical-text2 {
    font-size: 50px; /* Medium-big size */
    font-weight: bold;
  
    text-transform: uppercase; /* Uppercase text */
    text-orientation: upright; /* Keep letters upright */
    display: inline-block; /* Prevent block-level conflicts */
    pointer-events: none; /* Prevents interaction */
    position: fixed; /* Fixes the position on the screen */
    top: 59%; /* Center vertically */
    writing-mode: vertical-lr; /* Force vertical layout */
    left: 980px; /* Position slightly to the left */
    transform: translateY(-50%); /* Ensures true vertical centering */
    z-index: 10; /* Keeps it on top of other elements */
   color: #6366f1;

   opacity: 1; /* Ensure it's visible initially */
    visibility: visible; /* Keep the element interactable */
    transition: opacity 1.5s ease, visibility 0s 0.5s; /* Transition opacity and visibility after the fade */
    
}
.forced-vertical-text.hidden {
    opacity: 0; /* Fades out */
    visibility: hidden; /* Makes the element invisible and non-interactive */
    transition: opacity 1.5s ease, visibility 0s 0.5s; /* Ensure visibility change happens after the fade-out */
}

/* File input style */
.mb-3 {
    margin-bottom: 20px;
}

.mb-3 label {
    font-size: 14px;
    color: var(--dark-gray);
    display: block;
    margin-bottom: 5px;
}

.mb-3 input[type="file"] {
    border: 1px solid #e6e6e6;
    padding: 10px 15px;
    font-size: 14px;
    color: var(--dark-gray);
    background: var(--white);
}

.mb-3 small {
    font-size: 12px;
    color: var(--gray);
}

#file-name-display {
    font-size: 12px;
    color: var(--light-gray);
    margin-top: 5px;
}

/* Error Overlay Styles */
#error-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    color: white;
    font-size: 18px;
    justify-content: center;
    align-items: center;
    text-align: center;
    z-index: 1000;
}

#error-message-container {
    background-color: #333;
    padding: 30px;
    border-radius: 10px;
    max-width: 90%;
    width: 400px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
}

#error-message {
    margin-bottom: 20px;
    font-size: 1.2em;
}

#close-button {
    padding: 12px 25px;
    background-color: #68a9ff;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1.1em;
    transition: background-color 0.3s;
}

#close-button:hover {
    background-color: #0099cc;
}

/* Responsive Styles for the error overlay */
@media (max-width: 600px) {
    #error-message-container {
        width: 90%;
    }

    #error-message {
        font-size: 1em;
    }

    #close-button {
        padding: 10px 20px;
        font-size: 1em;
    }
}
.cta-link {
    display: block; /* Makes the entire div clickable */
    text-decoration: none; /* Removes underline from the link */
  }

  .cta {
    text-align: center;
    background-color: var(--accent);
    color: var(--white);
    padding: 15px 20px;
    font-size: 14px;
    font-weight: bold;
    transition: background-color 0.3s ease;
  }

  .cta:hover {
    background-color: #0099cc; /* Changes background color on hover */
    color: #ffffff;
  }
</style>
<body>
    
  <!-- Pen Title -->
  <div class="pen-title" >
    <h1>Intern Portal <font style="color: #6366f1;">Nexus</font></h1>
    <span>
        <font style="color: #6366f1;">| </font>Bridging the Gap Between Talent and Opportunity
    </span>
  </div>
  <!-- Form Module -->
  <div class="forced-vertical-text">REGISTER</div>
  <div class="forced-vertical-text2">INTERN</div>

  
  <div class="module form-module">
    <div >
    </div>

    <div class="form">
      <h2>Register as Intern</h2>
      <form id="internRegisterForm" enctype="multipart/form-data">
        <input type="email" name="email" placeholder="Email" required>
        <input type="text" name="name" placeholder="Full Name" required>
        <div style="position: relative;">
          <input type="password" name="password" id="password" placeholder="Password" required>
          <i class="fas fa-eye" id="togglePassword" style="position: absolute; top: 50%; right: 10px; transform: translateY(-50%); cursor: pointer;"></i>
      </div>
      
        <input type="text" name="address" placeholder="Address" required>
        <input type="text" name="school_id" placeholder="School ID" required>
    
        <label for="school_id_image">Upload School ID Image</label>
        <input type="file" name="school_id_image" id="school_id_image" accept="image/*" required>
    
        <button type="submit">Register</button>
    </form>
    
    
  </div>
    <div class="cta">
      <a href="nexuslogin.html">Click here to Login</a>
    </div>
    
  </div>
</body>

<script>

  // Apply styles to the elements via JavaScript
  const overlay = document.getElementById('error-overlay');
  const messageContainer = document.getElementById('error-message-container');
  const closeButton = document.getElementById('close-button');

  // Set styles for the overlay
  overlay.style.display = 'none';
  overlay.style.position = 'fixed';
  overlay.style.top = '0';
  overlay.style.left = '0';
  overlay.style.width = '100%';
  overlay.style.height = '100%';
  overlay.style.backgroundColor = 'rgba(0, 0, 0, 0.7)';
  overlay.style.color = 'white';
  overlay.style.fontSize = '18px';
  overlay.style.justifyContent = 'center';
  overlay.style.alignItems = 'center';
  overlay.style.textAlign = 'center';
  overlay.style.zIndex = '1000';

  // Set styles for the error message container
  messageContainer.style.backgroundColor = '#333';
  messageContainer.style.padding = '30px';
  messageContainer.style.borderRadius = '10px';
  messageContainer.style.maxWidth = '90%';
  messageContainer.style.width = '400px';
  messageContainer.style.boxShadow = '0 4px 10px rgba(0, 0, 0, 0.3)';
  
  // Set styles for the error message
  const message = document.getElementById('error-message');
  message.style.marginBottom = '20px';
  message.style.fontSize = '1.2em';

  // Set styles for the close button
  closeButton.style.padding = '12px 25px';
  closeButton.style.backgroundColor = '#68a9ff';
  closeButton.style.color = 'white';
  closeButton.style.border = 'none';
  closeButton.style.borderRadius = '5px';
  closeButton.style.cursor = 'pointer';
  closeButton.style.fontSize = '1.1em';
  closeButton.style.transition = 'background-color 0.3s';

  // Set responsive styles
  const mediaQuery = window.matchMedia('(max-width: 600px)');
  function handleResize() {
      if (mediaQuery.matches) {
          messageContainer.style.width = '90%';
          message.style.fontSize = '1em';
          closeButton.style.padding = '10px 20px';
          closeButton.style.fontSize = '1em';
      } else {
          messageContainer.style.width = '400px';
          message.style.fontSize = '1.2em';
          closeButton.style.padding = '12px 25px';
          closeButton.style.fontSize = '1.1em';
      }
  }
  mediaQuery.addListener(handleResize);
  handleResize();  // Initial check on page load

  document.getElementById('internRegisterForm').addEventListener('submit', async (event) => {
    event.preventDefault();

    const formData = new FormData(event.target);

    // Debugging: Log all form values
    for (let pair of formData.entries()) {
        console.log(pair[0], pair[1]); 
    }

    try {
        const response = await fetch('/register-intern', {
            method: 'POST',
            body: formData 
        });

        const result = await response.json();
        if (!response.ok) {
            alert(result.error); // Show error message
        } else {
            alert(result.message);
            location.reload();
        }
    } catch (error) {
        console.error('Unexpected error:', error);
        alert('An unexpected error occurred. Please try again later.');
    }
});



  function showError(message) {
      const messageElement = document.getElementById('error-message');
      messageElement.textContent = message;
      overlay.style.display = 'flex';
  }

  function closeError() {
      overlay.style.display = 'none';
  }

  document.getElementById('school_id_image').addEventListener('change', function () {
      const fileNameDisplay = document.getElementById('file-name-display');
      const fileName = this.files[0] ? this.files[0].name : '';
      if (fileNameDisplay) {
          fileNameDisplay.textContent = fileName; // Display the file name elsewhere
      }
  });

  window.addEventListener('resize', function() {
    var verticalText = document.querySelector('.forced-vertical-text');
    if (window.innerWidth > 1500) {  // Adjust this value based on your desired screen size
        verticalText.classList.remove('hidden');  // Show the text with fade
    } else {
        verticalText.classList.add('hidden');  // Hide the text with fade
    }
});
</script>
<script src="script.js"></script>




</html>
